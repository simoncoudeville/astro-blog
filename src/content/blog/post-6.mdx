---
title: "Animating a modal dialog"
slug: animating-a-modal-dialog
pubDate: 2023-11-28
description: "How to animate a modal dialog with view transitions, @start-style and @keyframes"
draft: true
---

View transitions are a great way to add some extra flair to your website. They can be used to make the transition between pages more interesting, or to add some extra information to a page. In this post, I'll show you how to use view transitions in Astro.

## Findings

Doesn't work well with large .avif images.

There seems to be a moment where the page is unresponsive. If I understand it correctly it's because the transition is between snapshots of the page. So the page is not interactive during the transition.

This doesn't happen with Astro. Only with the vanilla version.

Images should have the same aspect ratio. Otherwise the transition is not smooth. When navigating to a new page with a new and larger image the image needs to be downloaded again zo it will animate to a white screen and then the image will appear. So it's best to transtition to a page with the same image. But then the image need to be the same size. And you can't use the Astro Image component's features.

Decide on your main transition

With the main transition I mean what happens if you wouldn't apply any other animations to other elements.

Changing the default transition: with CSS. ::view-transition-new(root)

Working with dynamicly adding view-transitions names is limited as you don't have control over the view-transition-old and new pseudo elements. Or you would have to address all of them individually.

Flashing of elements
It's important to declare both the incoming and outgoing animation seperately. In my first attempts I declared the animation and then reversed it for the opposite transition. But when I tried to make the duration of a certain element transition shorter this caused weird flashes of that element.

Fixed elements
Fixed or sticky elements behave weird. My solution was to give the element a seperate view transition name so that it's added to the snapshot. But that also made it flash because it now is animated out and in But an animation of none. I also wanted it to dissapear when navigating to the detail page. On the detail page the nav isn't there so then you can use `:only-child` to give it a different animation when it's only on one page.

I've been playing around with view transitions for a while now, and I've found that they can be used to add some extra flair to your website. They can be used to make the transition between pages more interesting, or to add some extra information to a page. In this post, I'll show you how to use view transitions in Astro.

Think about the duration of the animation. It's good to have a few durations declared as variables. To make the transitions even smoother you can use them as delays to. But make sure that the sum of the delay and the duration is the same as the total duration.

## How to use view transitions in Astro

View transitions are a great way to add some extra flair to your website. They can be used to make the transition between pages more interesting, or to add some extra information to a page. In this post, I'll show you how to use view transitions in Astro.
